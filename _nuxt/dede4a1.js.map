{"version":3,"sources":["webpack:///./components/Coaching/ContactStatus.vue?4269","webpack:///./components/Coaching/ContactStatus.vue?67ce","webpack:///./components/Coaching/ContactStatus.vue","webpack:///./components/Coaching/ContactStatus.vue?54ac"],"names":["name","props","coach","type","Object","default","response","clickable","Boolean","now","data","selectedDate","isDelete","eraseLoading","btn","error","errorMsg","acceptText","this","acceptedDate","isDisabled","payButtonLoading","redirectWarning","computed","coachingLiesInPast","Date","date","setDate","getDate","methods","cancel","doc","$fire","functions","httpsCallable","docId","id","email","coachEmail","then","console","log","$emit","catch","err","pay","dateInput","videoType","method","token","$config","redAPI","fetch","header","body","JSON","stringify","json","redRes","video","codeArzt","firstName","lastName","codePatient","standardPayment","toLowerCase","v","dI","coachName","requestId","responseID","isDev","paymentID","$stripe","redirectToCheckout","sessionId","formatDate","toLocaleDateString","weekday","year","month","day","component","_vm","_h","$createElement","_c","_self","style","$vuetify","theme","themes","light","success","primary","attrs","staticClass","avatar","_v","_s","info","profession","coachAnswered","time","suggestions","scopedSlots","_u","key","fn","ref","item","on","_g","model","value","callback","$$v","expression","$event","_e","staticStyle","coachId","_b","VAlert","VAvatar","VBtn","VCard","VCardActions","VCardText","VCol","VDialog","VImg","VListItem","VListItemContent","VList","VListItemTitle","VOverlay","VRow","VSelect","VSheet"],"mappings":"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","file":"dede4a1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{style:('border: 1px solid ' +\n    (_vm.now\n      ? _vm.$vuetify.theme.themes.light.success\n      : _vm.$vuetify.theme.themes.light.primary)),attrs:{\"elevation\":\"2\",\"nuxt\":\"\",\"dark\":_vm.coachingLiesInPast,\"ripple\":_vm.clickable,\"to\":_vm.clickable ? '/berater/' + _vm.coach.id : null,\"outlined\":\"\"}},[_c('v-sheet',{staticClass:\"d-flex\",style:('border-bottom: 1px solid ' +\n      (_vm.now\n        ? _vm.$vuetify.theme.themes.light.success\n        : _vm.$vuetify.theme.themes.light.primary) +\n      ' !important')},[_c('v-avatar',{attrs:{\"color\":\"primary ma-5\",\"size\":\"35%\"}},[_c('v-img',{attrs:{\"src\":_vm.coach.avatar}})],1),_vm._v(\" \"),_c('div',{staticClass:\"ma-5 ml-2 d-flex flex-column justify-center\"},[_c('h2',{staticClass:\"secondary--text text-h2\"},[_vm._v(\"\\n        \"+_vm._s(_vm.coach.firstName)+\" \"+_vm._s(_vm.coach.lastName)+\"\\n      \")]),_vm._v(\" \"),_c('h3',{staticClass:\"mt-2 text-h5\"},[_vm._v(\"\\n        \"+_vm._s(_vm.coach.info.profession)+\"\\n      \")])])],1),_vm._v(\" \"),(_vm.response)?_c('v-card-text',[_c('p',{staticClass:\"text-uppercase font-weight-bold mb-1 mt-2 caption\"},[_vm._v(\"\\n      Vorschläge für einen Online-Beratungstermin\\n    \")]),_vm._v(\" \"),(!_vm.response.coachAnswered)?_c('div',[_vm._v(\"\\n      Der Coach hat auf deine Anfrage noch nicht reagiert.\\n    \")]):(!_vm.response.acceptedDate)?_c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{staticClass:\"my-2\",attrs:{\"items\":_vm.response.suggestions,\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"color\":\"primary\",\"label\":\"Bitte wählen\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\n      var item = ref.item;\n      var on = ref.on;\nreturn [_c('v-list-item',_vm._g({},on),[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"font-weight-bold mb-0\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.formatDate(item.date))+\"\\n                  \")]),_vm._v(\" \"),_c('p',{staticClass:\"caption\"},[_vm._v(_vm._s(item.time)+\" Uhr\")])],1)],1)]}},{key:\"selection\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('p',[_vm._v(_vm._s(_vm.formatDate(item.date))+\" | \"+_vm._s(item.time))])]}}],null,false,813956706),model:{value:(_vm.selectedDate),callback:function ($$v) {_vm.selectedDate=$$v},expression:\"selectedDate\"}}),_vm._v(\" \"),_c('p',{staticClass:\"font-weight-bold mb-0 my-4\"},[_vm._v(\"Preis: 50€\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"success\",\"loading\":_vm.btn.payButtonLoading,\"disabled\":!_vm.selectedDate || _vm.btn.isDisabled,\"block\":\"\"},on:{\"click\":function($event){return _vm.pay(_vm.selectedDate)}}},[_vm._v(_vm._s(_vm.btn.acceptText)+\"\\n          \")]),_vm._v(\" \"),(_vm.btn.error)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(_vm._s(_vm.btn.errorMsg))]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"caption\"},[_vm._v(\"\\n            Nach der Terminbestätigung wirst du direkt zu unserem\\n            Zahlungsanbieter „stripe“ weitergeleitet. Nach deiner Zahlung\\n            senden wir dir eine Termin-Bestätigung per E-Mail.\\n          \")])],1)],1)],1):_c('div',[(_vm.response.payed)?_c('div',[_c('v-btn',{staticClass:\"my-2\",attrs:{\"color\":\"success\",\"target\":\"_blank\",\"disabled\":_vm.coachingLiesInPast,\"href\":_vm.response.videoType === 'sicherer Anbieter'\n              ? _vm.response.video\n              : _vm.response.video.codePatient}},[_vm._v(\"zum Videocall\\n        \")]),_vm._v(\" \"),_c('v-alert',{attrs:{\"dark\":\"\",\"text\":\"\",\"dense\":\"\",\"color\":\"success\"}},[_vm._v(\"Zugesagt für \"+_vm._s(_vm.formatDate(_vm.response.acceptedDate.date))+\" um\\n          \"+_vm._s(_vm.response.acceptedDate.time)+\"\\n        \")])],1):_c('div',[_c('v-alert',{attrs:{\"dark\":\"\",\"color\":\"error\",\"type\":\"error\"}},[_c('p',[_vm._v(\"\\n            Es liegt (noch) keine Bezahlung vor. Der Bezahlungsprozess kann\\n            einige Minuten dauern. Bitte warten Sie ein paar Minuten und laden\\n            Sie die Seite dann erneut. Sollte die Fehlermeldung trotzdem noch\\n            existieren,\\n          \")]),_vm._v(\" \"),_c('p',{staticClass:\"caption mt-2\"},[_vm._v(\"\\n            kontaktieren Sie uns unter:\\n            \"),_c('a',{attrs:{\"href\":\"mailto:technik@sichere-zuflucht.de\"}},[_vm._v(\"\\n              technik@sichere-zuflucht.de\")])])])],1)])]):_vm._e(),_vm._v(\" \"),(!_vm.now)?_c('v-card-actions',{staticClass:\"align-stretch pa-4\",staticStyle:{\"border-top\":\"1px solid lightgrey\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"outlined\":\"\",\"nuxt\":\"\",\"to\":'/berater/' + _vm.response.coachId}},[_vm._v(_vm._s(_vm.coach.id)+\" Neue Anfrage stellen\\n    \")]),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n              var on = ref.on;\n              var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\"Termin absagen\\n        \")])]}}],null,false,2596266636),model:{value:(_vm.isDelete),callback:function ($$v) {_vm.isDelete=$$v},expression:\"isDelete\"}},[_vm._v(\" \"),_c('v-alert',{staticClass:\"mt-2 ma-2\",attrs:{\"type\":\"error\",\"color\":\"error\"}},[_c('p',[_vm._v(\"Wirklich absagen?\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"light\":\"\",\"loading\":_vm.eraseLoading},on:{\"click\":function($event){return _vm.cancel(_vm.response)}}},[_vm._v(\"Ja, absagen\\n        \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"light\":\"\"},on:{\"click\":function($event){_vm.isDelete = false}}},[_vm._v(\" nein\")])],1)],1),_vm._v(\" \"),(_vm.error)?_c('v-alert',{attrs:{\"type\":\"error\",\"color\":\"error\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('v-overlay',{attrs:{\"value\":_vm.redirectWarning,\"color\":\"black\",\"opacity\":\"0.8\"}},[_c('p',[_vm._v(\"\\n      Weiterleitung zu Stripe. Dies kann ein bisschen dauern. Bitte warten...\\n    \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactStatus.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'Coaching',\n  props: {\n    coach: {\n      type: Object,\n      default: () => {},\n    },\n    response: {\n      type: Object,\n      default: () => {},\n    },\n    clickable: {\n      type: Boolean,\n      default: true,\n    },\n    now: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      selectedDate: null,\n      isDelete: false,\n      eraseLoading: false,\n      btn: {\n        error: false,\n        errorMsg: '',\n        acceptText: this.response\n          ? this.response.acceptedDate\n            ? 'Bezahlt'\n            : 'Termin verbindlich buchen'\n          : null,\n        isDisabled: false,\n        payButtonLoading: false,\n      },\n      redirectWarning: false,\n      error: null,\n    }\n  },\n  computed: {\n    coachingLiesInPast() {\n      const acceptedDate = new Date(this.response.acceptedDate?.date || '')\n      acceptedDate.setDate(acceptedDate.getDate() + 1)\n      return !!this.response.acceptedDate && acceptedDate <= new Date()\n    },\n  },\n  methods: {\n    cancel(doc) {\n      this.eraseLoading = true\n      this.$fire.functions\n        .httpsCallable('request-delete')({\n          docId: doc.id,\n          email: doc.coachEmail,\n        })\n        .then(() => {\n          console.log('erased')\n          this.isDelete = false\n          this.eraseLoading = false\n          this.error = null\n          this.$emit('cancel')\n        })\n        .catch((err) => {\n          this.isDelete = false\n          this.eraseLoading = false\n          this.error = err\n          console.log('delete error: ', err)\n        })\n    },\n    async pay(dateInput) {\n      this.payButtonLoading = true\n      this.redirectWarning = true\n      let redReq, data, video\n      if (this.response.videoType === 'RED') {\n        data = {\n          method: 'getEntrycodes',\n          date: dateInput.date,\n          token: this.$config.redAPI,\n        }\n        redReq = await fetch('https://redclient.redmedical.de/service/video', {\n          method: 'POST',\n          header: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(data),\n        })\n        redReq\n          .json()\n          .then((redRes) => {\n            video = {\n              codeArzt:\n                'https://video.redmedical.de/#/login?name=' +\n                this.response.coach.firstName +\n                ' ' +\n                this.response.coach.lastName +\n                '&code=' +\n                redRes.codeArzt,\n              codePatient:\n                'https://video.redmedical.de/#/login?name=unbekannt&code=' +\n                redRes.codePatient,\n            }\n            this.standardPayment(video, dateInput)\n          })\n          .catch((error) => {\n            // eslint-disable-next-line no-console\n            console.log('err: ', error)\n          })\n      } else {\n        video =\n          'https://meet.jit.si/' +\n          this.response.coach.firstName.toLowerCase() +\n          '_' +\n          this.response.coach.lastName.toLowerCase() +\n          '_' + // no ?:&'\"%# symbols allowed\n          this.response.id\n        this.standardPayment(video, dateInput)\n      }\n    },\n    standardPayment(v, dI) {\n      this.$fire.functions\n        .httpsCallable('request-acceptDate')({\n          coachName:\n            this.response.coach.firstName + ' ' + this.response.coach.lastName,\n          acceptedDate: dI,\n          requestId: this.response.id,\n          video: v,\n        })\n        .then(async () => {\n          this.payButtonLoading = false\n          this.btn.isDisabled = true\n          // eslint-disable-next-line vue/no-mutating-props\n          this.response.acceptedDate = dI\n          // eslint-disable-next-line vue/no-mutating-props\n          this.response.video = v\n          const paymentID = (\n            await this.$fire.functions.httpsCallable('stripe-payCoaching')({\n              responseID: this.response.id,\n              isDev: this.$config.isDev,\n            })\n          ).data\n          this.$stripe.redirectToCheckout({\n            // Make the id field from the Checkout Session creation API response\n            // available to this file, so you can provide it as argument here\n            // instead of the {{CHECKOUT_SESSION_ID}} placeholder.\n            sessionId: paymentID,\n          })\n        })\n    },\n    formatDate(date) {\n      const d = new Date(date)\n      return d.toLocaleDateString('de-DE', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      })\n    },\n  },\n}\n","import { render, staticRenderFns } from \"./ContactStatus.vue?vue&type=template&id=5e3acf63&\"\nimport script from \"./ContactStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VAlert,VAvatar,VBtn,VCard,VCardActions,VCardText,VCol,VDialog,VImg,VListItem,VListItemContent,VListItemTitle,VOverlay,VRow,VSelect,VSheet})\n"],"sourceRoot":""}