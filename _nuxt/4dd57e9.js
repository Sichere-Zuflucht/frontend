(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{563:function(e,t,r){"use strict";r.r(t);var n={props:{editprofil:{type:Boolean,default:!0}},data:function(){return{validRef:!1,success:!1,error:null,verPhone:"",verEmail:"",verWeb:"",loading:!1,rules:{phone:[function(e){return!!e||"Telefonnummer nicht vergessen"},function(e){return/^(?:\+\d{2}|0|00\d{2})(?:\s*\d{3}){2}\s*\d{4,10}/.test(e)||"Ungültiges Format"}],email:[function(e){return/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/.test(e)||"Ungültiges Format"}]}}},computed:{verified:function(){return this.$store.getters["modules/user/verified"]},isVerifying:function(){return this.$store.getters["modules/user/isVerifying"]}},methods:{verifyProfil:function(){var e=this;this.loading=!0,this.$store.dispatch("modules/user/requestVerify",{tel:this.verPhone,www:this.verWeb,email:this.verEmail}).then((function(){e.loading=!1,e.success=!0}))}}},l=r(73),o=r(74),c=r.n(o),d=r(529),m=r(208),h=r(537),v=r(564),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"py-4"},[e.success||e.verified||e.isVerifying?e.isVerifying&&!e.verified||e.success?r("div",[r("h2",{staticClass:"text-h2 secondary--text pb-4"},[e._v("VERIFIZIERUNG GESTARTET")]),e._v(" "),e.editprofil?r("div",[r("p",[e._v("\n        Es kann einige Tage dauern, bis wir uns bei Ihnen melden. Nutzen Sie\n        die Zeit gern, um Ihr Profil zu erstellen.\n      ")]),e._v(" "),r("v-btn",{staticClass:"my-4",attrs:{color:"secondary",to:"/beratung/edit-profil"}},[e._v("Profil anlegen")])],1):e._e(),e._v(" "),r("p",[e._v("\n      Sobald Ihr Profil vollständig ist und Sie verifiziert sind, stellen wir\n      Ihr Profil online und Sie können mit der Beratung beginnen.\n    ")])]):e.verified?r("div",[r("h2",{staticClass:"text-h2 secondary--text pb-4"},[e._v("VERIFIZIERUNG GESCHAFFT")])]):e._e():r("div",[r("h2",{staticClass:"text-h2 secondary--text pb-4"},[e._v("Verifizierung")]),e._v(" "),r("p",[e._v("\n      Wir nehmen innerhalb der nächsten Tage mit Ihnen Kontakt auf, um Sie\n      kennenzulernen und offene Fragen klären zu können.\n    ")]),e._v(" "),r("nuxt-link",{attrs:{to:"",target:"_blank"}},[e._v("Warum ist eine Verifizierung nötig?")]),e._v(" "),r("v-form",{ref:"verify",staticClass:"pt-8",model:{value:e.validRef,callback:function(t){e.validRef=t},expression:"validRef"}},[r("v-text-field",{staticClass:"secondary--text font-weight-bold",attrs:{rules:e.rules.phone,label:"Telefonnummer",type:"tel","persistent-hint":"",hint:"Wir nehmen innerhalb der nächsten Tage mit Ihnen Kontakt\n                  auf, um Sie kennenzulernen und offene Fragen klären zu\n                  können."},model:{value:e.verPhone,callback:function(t){e.verPhone=t},expression:"verPhone"}}),e._v(" "),r("v-text-field",{staticClass:"secondary--text font-weight-bold",attrs:{rules:e.rules.email,label:"E-Mail-Adresse",type:"email","persistent-hint":"",hint:"Über die wir mit Ihnen Kontakt aufnehmen dürfen."},model:{value:e.verEmail,callback:function(t){e.verEmail=t},expression:"verEmail"}}),e._v(" "),r("v-text-field",{staticClass:"secondary--text font-weight-bold",attrs:{label:"Webseite (optional)"},model:{value:e.verWeb,callback:function(t){e.verWeb=t},expression:"verWeb"}}),e._v(" "),r("v-btn",{staticClass:"mt-4",staticStyle:{float:"right"},attrs:{color:"secondary",loading:e.loading,disabled:!e.validRef},on:{click:e.verifyProfil}},[e._v("Verifizierung starten")])],1)],1),e._v(" "),e.error?r("v-alert",[e._v(e._s(e.error?e.error:""))]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VAlert:d.a,VBtn:m.a,VForm:h.a,VTextField:v.a})},696:function(e,t,r){"use strict";r.r(t);var n=r(5),l=(r(46),r(75),{name:"UpdateProfile",data:function(){var e=this;return{validMem:!1,stepper:1,lastName:null,firstName:null,rules:{textRules:[function(e){return e&&e.length>=3||"mind. 3 Zeichen lang"}],passwordRules:[function(e){return/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/.test(e)||"Nutzen Sie ein sicheres Passwort. Mindestens 8 Zeichen, eine Zahl, ein Sonderzeichen (#?!@$ %^&*-), einmal Groß- und Kleinschreibung."}],passwordRules2:[function(e){return!!e||"Passwortüberprüfung nicht vergessen"},function(t){return!!t&&t===e.password||"Passwörter müssen übereinstimmen"}]},password:"",hidePassword:!0,password2:"",showError:!1,loading:!1,memberships:[],membership:void 0}},fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.firestore.collection("memberships").get();case 2:e.memberships=t.sent.docs.map((function(e){return e.data()})),e.memberships.reverse(),e.membership=e.memberships[0];case 5:case"end":return t.stop()}}),t)})))()},fetchOnServer:!1,methods:{updateProfile:function(){var e=this;this.loading=!0,this.$fire.auth.currentUser.updatePassword(this.password).catch((function(t){console.error(t),e.showError=!0,e.loading=!1})).then((function(){var t={};return"Coach"===e.membership.id?(e.stepper++,t.public={firstName:e.firstName,lastName:e.lastName,membership:e.membership.id},t.private={email:e.$fire.auth.currentUser.email},e.$store.dispatch("modules/user/createFirebaseUser",{userData:t,redirectTo:!1})):(t.public={membership:e.membership.id},t.private={firstName:e.firstName,lastName:e.lastName,email:e.$fire.auth.currentUser.email},window.localStorage.setItem("newWoman",!0),e.$store.dispatch("modules/user/createFirebaseUser",{userData:t,redirectTo:!0}))}))}}}),o=r(73),c=r(74),d=r.n(c),m=r(208),h=r(571),v=r(675),f=r(508),_=r(521),w=r(497),x=r(537),y=r(194),C=r(510),k=r(59),S=r(533),V=r(534),P=r(516),N=r(535),R=r(564),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"ma-0"},[r("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"6",height:"100%"}},[r("v-sheet",{attrs:{color:"secondary",dark:"",height:"100%"}},[r("v-container",{staticClass:"ma-auto",staticStyle:{"max-width":"450px",position:"sticky",top:"100px"}},[r("h1",{staticClass:"text-h2 white--text text-uppercase pb-8"},[e._v("\n          SCHÖN, DASS DU DA BIST! "),r("br"),e._v("DU KANNST DIREKT LOSLEGEN.\n        ")]),e._v(" "),r("p",[e._v("Bitte schließe als erstes deine Registrierung ab.")]),e._v(" "),r("v-icon",{attrs:{large:""}},[e._v("mdi-arrow-right-thin")])],1)],1)],1),r("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"6"}},[r("v-container",[e.memberships?r("v-stepper",{attrs:{elevation:"0"},model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[r("v-stepper-header",{staticStyle:{"box-shadow":"none"}},[r("v-stepper-step",{attrs:{step:"1",complete:e.stepper>1,editable:e.stepper>1&&e.stepper<3,color:e.stepper>1?"success":"primary"}},[e._v("\n            Anliegen\n          ")]),e._v(" "),r("v-divider"),e._v(" "),r("v-stepper-step",{attrs:{step:"2",complete:e.stepper>2,editable:e.stepper>2&&e.stepper<3,color:e.stepper>2?"success":"primary"}},[e._v("\n            Anmeldung\n          ")]),e._v(" "),e.membership&&"Coach"===e.membership.id?r("v-divider"):e._e(),e._v(" "),e.membership&&"Coach"===e.membership.id?r("v-stepper-step",{attrs:{step:"3",complete:e.stepper>3}},[e._v("\n            Verifizierung\n          ")]):e._e()],1),e._v(" "),r("v-stepper-items",{staticClass:"pb-4"},[r("v-stepper-content",{attrs:{step:"1"}},[r("h2",{staticClass:"text-h2 secondary--text pb-4"},[e._v("Dein/Ihr Anliegen")]),e._v(" "),r("v-chip-group",{staticClass:"d-flex flex-column",staticStyle:{width:"260px"},attrs:{column:"",mandatory:""},model:{value:e.membership,callback:function(t){e.membership=t},expression:"membership"}},e._l(e.memberships,(function(t,i){return r("v-chip",{key:i,attrs:{value:t,outlined:"","active-class":"primary primary--text font-weight-bold"}},[r("v-icon",{staticClass:"pr-2"},[e._v(e._s(t.icon))]),e._v(" "),r("p",{staticClass:"ma-0",staticStyle:{"padding-top":"2px"}},[e._v("\n                  "+e._s(t.description)+"\n                ")])],1)})),1),e._v(" "),r("v-btn",{staticClass:"mt-4",staticStyle:{float:"right"},attrs:{color:"secondary"},on:{click:function(t){e.stepper++}}},[e._v("Weiter")])],1)],1),e._v(" "),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"2"}},[e.membership&&"Coach"===e.membership.id?r("div",[r("h2",{staticClass:"text-h2 secondary--text pb-4"},[e._v("Anmeldung")]),e._v(" "),r("p",[e._v("\n                Ihr Vor- und Nachname werden in Ihrem Profil öffentlich\n                sichtbar sein.\n              ")])]):r("div",[r("h2",{staticClass:"text-h2 secondary--text pb-4"},[e._v("Passwort")]),e._v(" "),r("p",[e._v("\n                Du brauchst ein Passwort, um dich in dein Konto einzuloggen\n                und mit den Berater*innen Kontakt aufnehmen zu können.\n              ")])]),e._v(" "),r("v-form",{ref:"form",staticClass:"pt-8",model:{value:e.validMem,callback:function(t){e.validMem=t},expression:"validMem"}},[e.membership&&"Coach"===e.membership.id?r("v-text-field",{staticClass:"secondary--text font-weight-bold",attrs:{rules:e.rules.textRules,label:"Vorname",type:"name"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}):e._e(),e._v(" "),e.membership&&"Coach"===e.membership.id?r("v-text-field",{staticClass:"secondary--text font-weight-bold",attrs:{rules:e.rules.textRules,label:"Nachname",type:"name"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}):e._e(),e._v(" "),r("v-text-field",{staticClass:"secondary--text font-weight-bold",attrs:{label:"Passwort",rules:e.rules.passwordRules,type:e.hidePassword?"password":"text","append-icon":e.hidePassword?"mdi-eye":"mdi-eye-off","persistent-hint":"",hint:"Nutzen Sie ein sicheres Passwort. Mindestens 8 Zeichen, eine Zahl, ein Sonderzeichen (#?!@$ %^&*-), einmal Groß- und Kleinschreibung."},on:{"click:append":function(){return e.hidePassword=!e.hidePassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("v-text-field",{staticClass:"secondary--text font-weight-bold",attrs:{rules:e.rules.passwordRules2,label:"Passwort wiederholen",type:"password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),e._v(" "),e.membership&&"Coach"===e.membership.id?r("v-btn",{staticClass:"mt-4",staticStyle:{float:"right"},attrs:{color:"secondary",disabled:!e.validMem},on:{click:e.updateProfile}},[e._v("Weiter")]):r("v-btn",{staticClass:"mt-4",staticStyle:{float:"right"},attrs:{color:"secondary",loading:e.loading,disabled:!e.validMem},on:{click:e.updateProfile}},[e._v("Passwort speichern")])],1)],1)],1),e._v(" "),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"3"}},[r("SharedVerificationPage",{attrs:{editprofile:""}})],1)],1)],1):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{SharedVerificationPage:r(563).default}),d()(component,{VBtn:m.a,VChip:h.a,VChipGroup:v.a,VCol:f.a,VContainer:_.a,VDivider:w.a,VForm:x.a,VIcon:y.a,VRow:C.a,VSheet:k.a,VStepper:S.a,VStepperContent:V.a,VStepperHeader:P.a,VStepperItems:P.b,VStepperStep:N.a,VTextField:R.a})}}]);
//# sourceMappingURL=4dd57e9.js.map